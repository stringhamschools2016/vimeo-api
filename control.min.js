!function(){var a,b={currentTime:0,maxTime:0,duration:0,endCall:!1,canSeek:!1,seekPrevented:!1,seekAlertDisplayed:!1},c=function(c,e,f){var g=document.querySelectorAll(c);if(!g.length)throw'"'+c+'" is not a valid selector for any element on this page.';return a=new Vimeo.Player(g[0]),1!==e&&"1"!==e&&!0!==e&&"true"!==e||(b.canSeek=!0),d(f),a},d=function(c){var d="ssTrack";a.getVideoTitle().then(function(e){b.title=e,d+=e.split(" ").join(""),a.getDuration().then(function(a){b.duration=a,"sessionStorage"in window&&g(d)}),h(d,c)}),a.on("seeked",f),a.on("ended",function(){e(c)})},e=function(a){if(b.endCall)return!1;b.endCall=!0,b.canSeek=!0,"function"==typeof a&&a()},f=function(c){b.canSeek||i(c.seconds)||(b.seekPrevented=!0,a.setCurrentTime(b.maxTime)),b.seekPrevented&&!b.seekAlertDisplayed&&(b.seekAlertDisplayed=!0,a.pause().then(function(){alert("Not so fast! You must watch the video in full before you can fast forward. However, you can rewind and review previously viewed portions."),b.seekPrevented=!1}))},g=function(c){var d=window.sessionStorage.getItem(c);if("string"==typeof d){var e=parseInt(d);e>1&&e<b.duration-1&&(b.currentTime=b.maxTime=e,a.setCurrentTime(e))}},h=function(c,d){setInterval(function(){a.getCurrentTime().then(function(f){if(!b.canSeek&&!i(f))return a.setCurrentTime(b.currentTime),!1;b.currentTime=f,f>b.maxTime&&(b.maxTime=f+1),"sessionStorage"in window&&window.sessionStorage.setItem(c,f),"number"==typeof b.duration&&f>b.duration-30&&e(d)})},1e3)},i=function(a){return a<b.maxTime+5};window.VimeoPlayer=c}();
